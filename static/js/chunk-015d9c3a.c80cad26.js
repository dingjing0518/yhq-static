(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-015d9c3a"],{"0290":function(e,r,s){"use strict";s.r(r);var a=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"login-wrap"},[s("div",{staticClass:"ms-login"},[s("div",{staticClass:"ms-title"},[e._v("金石停车 商户平台")]),s("el-form",{ref:"ruleForm",staticClass:"ms-content",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"username"},on:{blur:e.bur},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"password"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.userMessage()}},model:{value:e.ruleForm.password,callback:function(r){e.$set(e.ruleForm,"password",r)},expression:"ruleForm.password"}})],1),s("div",{staticClass:"login-btn"},[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.userMessage()}}},[e._v("登录")])],1),s("div",{staticClass:"icon-div"},[s("p",{staticClass:"login-tips"},[s("el-checkbox",{model:{value:e.checkeders,callback:function(r){e.checkeders=r},expression:"checkeders"}}),e._v(" 记住用户名")],1),s("p",{staticClass:"nee",staticStyle:{"margin-left":"42%"}},[s("el-checkbox",{model:{value:e.checked,callback:function(r){e.checked=r},expression:"checked"}}),e._v(" 记住密码")],1)])],1)],1)])},t=[],o={data:function(){return{checked:"",checkeders:"",applyGood:[],ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){console.log("123"),Boolean(localStorage.getItem("cd"))?this.checkeders=!0:this.checkeders=!1,Boolean(localStorage.getItem("dd"))?this.checked=!0:this.checked=!1,console.log(this.checked),this.ruleForm.username=window.localStorage.getItem("checkedersid"),null!=this.ruleForm.username&&this.bur()},methods:{bur:function(){var e=JSON.parse(window.localStorage.getItem("applyParams"));console.log(e);for(var r=0;r<e.length;r++)this.ruleForm.username==e[r].username?this.ruleForm.password=e[r].password:this.ruleForm.password=""},userMessage:function(e){var r=this;this.$axios({url:"http://yun.jinshipark.com:81/userLogin/login?bcUsername="+r.ruleForm.username+"&bcPassword="+r.ruleForm.password,method:"get"}).then(function(e){e.status<=200&&(console.log(e),1==e.data.code?(localStorage.setItem("ms_username",r.ruleForm.username),localStorage.setItem("bcId",e.data.bcId),localStorage.setItem("agentId",e.data.agentId),localStorage.setItem("areaId",e.data.areaId),localStorage.setItem("parkingId",e.data.parkingId),r.$router.push("/couponMessage"),localStorage.setItem("numberword",r.ruleForm.password),1==r.checked?(localStorage.setItem("cd",!0),r.applyGood.push({username:r.ruleForm.username,password:r.ruleForm.password}),localStorage.setItem("applyParams",JSON.stringify(r.applyGood))):localStorage.removeItem("cd"),1==r.checkeders?(localStorage.setItem("dd",!0),localStorage.setItem("checkedersid",r.ruleForm.username)):localStorage.removeItem("dd")):0==e.data.code?alert("用户不存在"):alert("密码错误"))}).catch(function(e){r.$message.error("系统错误: "+e),console.log(e)})}}},l=o,c=(s("dde9"),s("2877")),n=Object(c["a"])(l,a,t,!1,null,"e20ec9c4",null);r["default"]=n.exports},ccfd:function(e,r,s){},dde9:function(e,r,s){"use strict";var a=s("ccfd"),t=s.n(a);t.a}}]);