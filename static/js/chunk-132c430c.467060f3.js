(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-132c430c"],{"3dfa":function(e,a,o){"use strict";var r=o("c6ee"),t=o.n(r);t.a},"5d58":function(e,a,o){e.exports=o("d8d6")},"67bb":function(e,a,o){e.exports=o("f921")},"729d":function(e,a,o){"use strict";o.r(a);var r=function(){var e=this,a=e.$createElement,o=e._self._c||a;return o("div",[o("div",{staticClass:"crumbs"},[o("el-breadcrumb",{attrs:{separator:"/"}},[o("el-breadcrumb-item",[o("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 基本设置\n      ")])],1)],1),o("div",{staticClass:"container"},[o("div",{staticClass:"form-box"},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.carFormRules,"label-width":"150px"}},[o("el-form-item",{attrs:{label:"车场编号： ",prop:"jpNumber"}},[o("el-input",{attrs:{disabled:!0,placeholder:"请输入车场编号"},model:{value:e.form.jpNumber,callback:function(a){e.$set(e.form,"jpNumber",a)},expression:"form.jpNumber"}})],1),o("el-form-item",{attrs:{label:"车场名称： ",prop:"jpName"}},[o("el-input",{attrs:{placeholder:"请输入车场名称"},model:{value:e.form.jpName,callback:function(a){e.$set(e.form,"jpName",a)},expression:"form.jpName"}})],1),o("el-form-item",{attrs:{label:"车场地址：",prop:"jpSite"}},[o("el-input",{attrs:{placeholder:"请输入车场地址"},model:{value:e.form.jpSite,callback:function(a){e.$set(e.form,"jpSite",a)},expression:"form.jpSite"}})],1),o("el-form-item",{attrs:{label:"联系人姓名：",prop:"jpMembers"}},[o("el-input",{attrs:{placeholder:"请输入联系人姓名"},model:{value:e.form.jpMembers,callback:function(a){e.$set(e.form,"jpMembers",a)},expression:"form.jpMembers"}})],1),o("el-form-item",{attrs:{label:"联系人手机号：",prop:"jpPhoneNumber"}},[o("el-input",{attrs:{placeholder:"请输入联系人手机号"},model:{value:e.form.jpPhoneNumber,callback:function(a){e.$set(e.form,"jpPhoneNumber",a)},expression:"form.jpPhoneNumber"}})],1),o("el-form-item",{attrs:{label:"备选手机号1 ：",prop:"jpPhoneNumberBackup"}},[o("el-input",{attrs:{placeholder:"请输入备选手机号"},model:{value:e.form.jpPhoneNumberBackup,callback:function(a){e.$set(e.form,"jpPhoneNumberBackup",a)},expression:"form.jpPhoneNumberBackup"}})],1),o("el-form-item",{attrs:{label:"备选手机号2 ："}},[o("el-input",{attrs:{placeholder:"请输入备选手机号"},model:{value:e.form.jpPhoneNumberBackupTwo,callback:function(a){e.$set(e.form,"jpPhoneNumberBackupTwo",a)},expression:"form.jpPhoneNumberBackupTwo"}})],1),o("el-form-item",{attrs:{label:"联系人微信号：",prop:"jpWxNumber"}},[o("el-input",{attrs:{placeholder:"请输入联系人微信"},model:{value:e.form.jpWxNumber,callback:function(a){e.$set(e.form,"jpWxNumber",a)},expression:"form.jpWxNumber"}})],1),o("el-form-item",{attrs:{label:"车 位 数 ：",prop:"jpPlaceNumber"}},[o("el-input",{attrs:{placeholder:"请输入车位数"},model:{value:e.form.jpPlaceNumber,callback:function(a){e.$set(e.form,"jpPlaceNumber",a)},expression:"form.jpPlaceNumber"}})],1),o("el-form-item",{attrs:{label:"对接当地接口 ："}},[o("el-select",{on:{change:e.handleCommand},model:{value:e.jpsOpenLocalInterface,callback:function(a){e.jpsOpenLocalInterface=a},expression:"jpsOpenLocalInterface"}},e._l(e.options,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),o("el-form",{ref:"form",attrs:{model:e.modeForm,"label-width":"150px"}},[o("el-form-item",{attrs:{label:"月租车是否计算车位"}},[o("el-checkbox",{model:{value:e.modeForm.jpsMemberCar,callback:function(a){e.$set(e.modeForm,"jpsMemberCar",a)},expression:"modeForm.jpsMemberCar"}})],1),o("el-form-item",{attrs:{label:"无效卡放行"}},[o("el-checkbox",{model:{value:e.modeForm.jpsInvalidRelease,callback:function(a){e.$set(e.modeForm,"jpsInvalidRelease",a)},expression:"modeForm.jpsInvalidRelease"}})],1),o("el-form-item",{attrs:{label:"是否允许黄牌车进入"}},[o("el-checkbox",{model:{value:e.modeForm.jpsYellowLincenseAllow,callback:function(a){e.$set(e.modeForm,"jpsYellowLincenseAllow",a)},expression:"modeForm.jpsYellowLincenseAllow"}})],1),o("el-form-item",{attrs:{label:"出场确认模式"}},[o("el-checkbox",{model:{value:e.modeForm.jpsExportConfirm,callback:function(a){e.$set(e.modeForm,"jpsExportConfirm",a)},expression:"modeForm.jpsExportConfirm"}})],1),o("el-form-item",{attrs:{label:"进场确认模式"}},[o("el-checkbox",{model:{value:e.modeForm.jpsImportConfirm,callback:function(a){e.$set(e.modeForm,"jpsImportConfirm",a)},expression:"modeForm.jpsImportConfirm"}})],1),o("el-form-item",{attrs:{label:"支付模式"}},[o("el-select",{attrs:{placeholder:"支付模式"},on:{change:e.handleCommandeeAd},model:{value:e.modeForm.jpsPayType,callback:function(a){e.$set(e.modeForm,"jpsPayType",a)},expression:"modeForm.jpsPayType"}},e._l(e.optionsAE,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),o("el-form-item",{attrs:{label:"云服务器地址："}},[o("el-select",{attrs:{placeholder:"请选择云服务器地址"},on:{change:e.handleCommandee},model:{value:e.valueE,callback:function(a){e.valueE=a},expression:"valueE"}},e._l(e.optionsA,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),o("el-form-item",{attrs:{label:"优惠券地址："}},[o("el-select",{attrs:{placeholder:"请选择优惠券服务地址"},on:{change:e.handleCommanden},model:{value:e.valueF,callback:function(a){e.valueF=a},expression:"valueF"}},e._l(e.optionsB,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),o("el-form-item",{attrs:{label:"免费模式："}},[o("p",[e._v("收费设置所有金额为0即为场地免费模式")])]),o("el-form-item",{attrs:{label:"抓拍图片保存路径："}},[o("p",[e._v(e._s(e.adderimage))])])],1)],1)],1),o("el-button",{staticStyle:{"margin-left":"10%"},attrs:{type:"primary"},on:{click:e.saveMode}},[e._v("保存")]),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.refresh}},[e._v("刷新")])],1)])},t=[],l=o("7618"),s=(o("c5f6"),{name:"baseform",data:function(){return{value:0,valueG:"0",jpsOpenLocalInterface:"0",valueE:"0",valueF:"0",adderimage:"",optionsAE:[{value:0,label:"模式一"},{value:1,label:"模式二"}],options:[{value:"0",label:"无"},{value:"1",label:"常熟"}],optionsC:[{value:"0",label:"9999"},{value:"1",label:"0"}],optionsA:[{value:"0",label:"http://www.jinshipark.com"}],optionsB:[{value:"0",label:"http://yun.jinshipark.com:81"}],form:{jpId:"",jpName:"",jpNumber:"",jpSite:"",jpMembers:"",jpPhoneNumber:"",jpPlaceNumber:"",jpWxNumber:"",jpPhoneNumberBackup:"",jpPhoneNumberBackupTwo:""},modeForm:{jpsMemberCar:"",jpsInvalidRelease:"",jpsYellowLincenseAllow:"",jpsUrlNewPc:"",jpsUrlNewShopPc:"",jpsOpenLocalInterface:"",jpsAllowNegativeCar:"",jpsPayType:"模式一",jpsExportConfirm:"",jpsImportConfirm:""},carFormRules:{jpNumber:[{message:"请输入车场编号",required:!0,trigger:"blur"},{min:1,max:20,message:"长度应该在1-10个字符之间",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],jpName:[{message:"请输入车场名称",required:!0,trigger:"blur"},{min:1,max:20,message:"长度应该在1-10个字符之间",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],jpSite:[{message:"请输入车场地址",required:!0,trigger:"blur"},{min:1,max:20,message:"长度应该在1-10个字符之间",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],jpMembers:[{message:"请输入联系人姓名",required:!0,trigger:"blur"},{min:2,max:5,message:"长度应该在2-5个字符之间",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],jpPhoneNumber:[{message:"手机号不能为空",required:!0},{pattern:/^[0-9]+$/,message:"只允许输入数字"},{min:11,max:11,message:"请输入11位手机号"}],jpPhoneNumberBackupTwo:[{message:"手机号不能为空",required:!0},{pattern:/^[0-9]+$/,message:"只允许输入数字"},{min:11,max:11,message:"请输入11位手机号"}],jpWxNumber:[{min:0,max:20,message:"长度应该在1-20个字符之间",trigger:"blur"},{pattern:/^[0-9a-zA-Z]+$/,message:"不允许输入汉字"}],jpPlaceNumber:[{message:"车位数不能为空",required:!0,trigger:"blur"},{pattern:/^[0-9]+$/,message:"只允许输入数字"}],jpPhoneNumberBackup:[{pattern:/^[0-9]+$/,message:"只允许输入数字"},{min:11,max:11,message:"请输入11位手机号"}]}}},methods:{refresh:function(){this.modeForm={},this.from={}},handleCommandee:function(e){this.modeForm.urlNewPC=e},handleCommandeeAd:function(e){this.modeForm.jpsPayType=0==e?"模式一":"模式二",console.log(e)},handleCommanden:function(e){this.modeForm.urlNewShopPC=e},handleCommand:function(e){console.log(this.jpsOpenLocalInterface),this.modeForm.jpsOpenLocalInterface=this.jpsOpenLocalInterface},saveMode:function(){var e=this,a=this.modeForm;0==a.jpsMemberCar?a.jpsMemberCar=0:a.jpsMemberCar=1,0==a.jpsInvalidRelease?a.jpsInvalidRelease=0:a.jpsInvalidRelease=1,0==a.jpsYellowLincenseAllow?a.jpsYellowLincenseAllow=0:a.jpsYellowLincenseAllow=1,0==a.jpsExportConfirm?a.jpsExportConfirm=0:a.jpsExportConfirm=1,0==a.jpsImportConfirm?a.jpsImportConfirm=0:a.jpsImportConfirm=1,this.modeForm.jpsAllowNegativeCar=Number(this.valueG),this.modeForm.jpsOpenLocalInterface=Number(this.jpsOpenLocalInterface),console.log(this.modeForm),this.$axios({url:"http://58.210.33.107:8081/carmanager_war/JinshiParkingSetup/updateSetup",method:"post",data:e.modeForm}).then(function(a){console.log(a),a.status<=200&&(e.getdata(),e.$message.success("执行成功!!"))}).catch(function(a){e.$message.error("执行失败: "+a),console.log(a)}),this.$axios({url:"http://58.210.33.107:8081/carmanager_war/jinshiParking/updateByPrimaryKey",method:"post",data:{parkSetting:e.form}}).then(function(a){a.status<=200&&e.$message.success("执行成功")}).catch(function(a){e.$message.error("执行失败s"),console.log(a)})},getModeDate:function(){var e=this;this.$axios({url:"http://58.210.33.107:8081/carmanager_war/parking/getModeDate",method:"post",data:{parkId:String(localStorage.getItem("parkId"))}}).then(function(a){console.log(a,"获取所有"),a.status<=200&&(console.log(a.data,"4856486"),e.modeForm=a.data,1==a.data.yellowLincenseAllow?e.yellow=!0:e.yellow=!1)}).catch(function(e){console.log(e)})},getdata:function(){var e=this;console.log(Object(l["a"])(Number(localStorage.getItem("parkId")))),this.$axios({url:"http://58.210.33.107:8081/carmanager_war/JinshiParkingSetup/selectParkSetup",method:"post",data:{parkId:Number(localStorage.getItem("parkId"))}}).then(function(a){var o=a.data;0==o.jpsMemberCar?o.jpsMemberCar=!1:o.jpsMemberCar=!0,0==o.jpsInvalidRelease?o.jpsInvalidRelease=!1:o.jpsInvalidRelease=!0,0==o.jpsYellowLincenseAllow?o.jpsYellowLincenseAllow=!1:o.jpsYellowLincenseAllow=!0,0==o.jpsExportConfirm?o.jpsExportConfirm=!1:o.jpsExportConfirm=!0,0==o.jpsImportConfirm?o.jpsImportConfirm=!1:o.jpsImportConfirm=!0,9999==o.jpsAllowNegativeCar?(o.jpsAllowNegativeCar="0",e.valueG="0"):(o.jpsAllowNegativeCar="1",e.valueG="1"),1==o.jpsPayType?o.jpsPayType="模式二":o.jpsPayType="模式一",e.jpsOpenLocalInterface=String(o.jpsOpenLocalInterface),e.modeForm=a.data,console.log(a,"获取所有")}).catch(function(e){console.log(e)})},addImage:function(){var e=this;this.$axios({url:"http://58.210.33.107:8081/carmanager_war/JinshiParkingSetup/backPicPath",method:"post",data:{parkId:Number(localStorage.getItem("parkId"))}}).then(function(a){console.log("图片路径",a),e.adderimage=a.data.picPath}).catch(function(e){console.log(e)})}},created:function(){this.addImage(),this.getModeDate(),this.getdata();var e=this;this.$axios({url:"http://58.210.33.107:8081/carmanager_war/jinshiParking/selectByNumber",method:"post",data:{parkId:String(localStorage.getItem("parkId"))}}).then(function(a){console.log(a),a.status<=200&&(console.log(a.data),e.form=a.data)}).catch(function(a){e.$message.error("查询失败！"),console.log(a)})}}),n=s,m=(o("3dfa"),o("2877")),p=Object(m["a"])(n,r,t,!1,null,"7484e1fc",null);a["default"]=p.exports},7618:function(e,a,o){"use strict";o.d(a,"a",function(){return m});var r=o("5d58"),t=o.n(r),l=o("67bb"),s=o.n(l);function n(e){return n="function"===typeof s.a&&"symbol"===typeof t.a?function(e){return typeof e}:function(e){return e&&"function"===typeof s.a&&e.constructor===s.a&&e!==s.a.prototype?"symbol":typeof e},n(e)}function m(e){return m="function"===typeof s.a&&"symbol"===n(t.a)?function(e){return n(e)}:function(e){return e&&"function"===typeof s.a&&e.constructor===s.a&&e!==s.a.prototype?"symbol":n(e)},m(e)}},c6ee:function(e,a,o){}}]);